<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" contenido="width=device-width">
    <meta name="description" contenido="Aplicativo prueba MisionTic2021">
    <meta name="keywords" contenido="Aplicación web, desarrollo de software, pruebas Misiontic" />
    <meta property="og:image" contenido="https://" />
    <meta name="google-site-verification" contenido="" />
    <title>Admintrador Ventas</title>
    <link rel="icon" href="images/logo_mercurio.png" type="image/png" />
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <!-- /Bootstrap -->
    <!-- css Nightmare -->
    <link rel="stylesheet" href="/css/styleTablaVentas.css">
    <link href="/css/menu.css" rel="stylesheet">
    <!-- /css Nightmare -->
    <!-- Iconos fontAwesome -->
    <link href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" rel="stylesheet">
    <!-- /Iconos fontAwesome -->
    <!-- Fuente -->
    <link href="https://fonts.googleapis.com/css2?family=Aldrich&display=swap" rel="stylesheet">
    <!-- /Fuente -->
</head>

<body>
    <!-- NavBar superior-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-color " id="menu">
        <div class="container-fluid">
            <div class="col-12" style="text-align: end;">
                <a class="navbar-brand menuNG-titulo" href="#" style="font-size: 25px;">
                    Administrador de Ventas&nbsp;&nbsp; <i class="fas fa-users" style="font-size: 50px;"></i>
                </a>
            </div>
        </div>
    </nav>
    <!-- /NavBar Superior-->
    <!-- menu-lateral Menú lateral-->
    <div class="page-wrapper mercurio-theme toggled">
        <a id="show-menu-lateral" class="btn btn-sm btn-dark " href="#">
            <i class="fas fa-bars" style=" font-size: 30px;margin-left: 5px;"> &nbsp;
                <img src="/images/logo_mercurio.png" alt="" style="width: 30px; position:absolute;">
            </i>
        </a>
        <nav id="menu-lateral" class="menu-lateral-wrapper">
            <div class="menu-lateral-contenido">
                <!-- encabezado menu -->
                <div class="menu-lateral-brand" style="background-color: #2d35a7a4;;">
                    <img src="/images/logo_mercurio.png" alt="" style="width: 30px; ">
                    &nbsp;
                    <a href="#" style="color: whitesmoke; ">Mercurio </a>
                    <div id="close-menu-lateral">
                        <i class="fas fa-times" style="color: white; "></i>
                    </div>
                </div>
                <!-- /encabezado menu -->
                <!-- Sección de usuario -->
                <div class="menu-lateral-header">
                    <div class="user-pic">
                        <img class="img-responsive img-rounded" src="/images/user2.png" alt="User picture">
                    </div>
                    <div class="user-info">
                        <span class="user-name"><strong>Nightmare User</strong></span>
                        <span class="user-role">Administrador</span>
                        <span class="user-status">
                            <i class="fa fa-circle"></i>
                            <span>Online</span>
                        </span>
                    </div>
                </div>
                <!-- /Sección de usuario -->
                <!-- Opciones disponible lista de paginas -->
                <div class="menu-lateral-menu">
                    <ul>
                        <li class="header-menu">
                            <span>Opciones disponibles</span>
                        </li>
                        <li class="menu-lateral-dropdown">
                            <a href="#">
                                <i class="fa fa-chart-pie"></i>
                                <span>Dashboard </span>
                            </a>
                        </li>
                        <li class="menu-lateral-dropdown">
                            <a href="#" style="color: white;">
                                <i class="fa fa-shopping-cart" style="color: #16c7ff;"></i>
                                <span>Módulo de Ventas</span>
                            </a>
                        </li>
                        <li class="menu-lateral-dropdown">
                            <a href="productos.html">
                                <i class="fas fa-shopping-basket"></i>
                                <span>Productos</span>
                            </a>
                        </li>
                        <li class="menu-lateral-dropdown">
                            <a href="roles_usuarios.html">
                                <i class="fas fa-users-cog"></i>
                                <span>Usuarios</span>
                            </a>
                        </li>
                    </ul>
                </div>
                <!-- /Opciones disponible lista de paginas -->
            </div>
            <!-- Footer menu -->
            <div class="menu-lateral-footer"
                style="bottom: 32px; background-color: transparent; border-top: transparent;">
                <img src="/images/logo2b.png" alt="..." class="img-rounded" style="width: 250px;">
            </div>
            <div class="menu-lateral-footer">
                <a href="login.html">
                    <i class="fa fa-power-off"></i>
                </a>
            </div>
            <!-- /Footer menu -->
        </nav>
    </div>
    <!-- Archivos JS -->
    <script src="/js/AdminVentas-TablaMostrarVentas.js"></script>
    <script src="/js/AdminVentas-VentaBuscada.js"></script>
    <script src="/js/AdminVentas-BuscarVenta.js"></script>
    <script src="/js/AdminVentas-NuevaVenta.js"></script>
    <script src="js/AdminVentas-ocultarbotones.js"></script>
    <script src="js/AdminVentas-LimpiarModales.js"></script>
    <!-- /Archivos JS -->
    <!-- Tabla done se insertaran las filas -->
    <section class="main">
        <div class="container-fluid table-responsive">
            <table class="table table-hover">
                <thead style="text-align: center;">
                    <tr>
                        <th scope="col">Seleccionar </th>
                        <th scope="col">Id</th>
                        <th scope="col">Articulo</th>
                        <th scope="col">Cliente</th>
                        <th scope="col">Valor $</th>
                        <th scope="col">Fecha Venta</th>
                        <th scope="col">Fecha Pago</th>
                        <th scope="col">Vendedor</th>
                        <th scope="col">Estado Pago</th>
                    </tr>
                </thead>
                <!-- agregamos el id="AquiVaLaFila" en el body porque solo creamos las filas -->
                <!-- se mantiene la estructura original de la tabla -->
                <tbody id="AquiVaLaFila" style="text-align: center;">
                </tbody>
            </table>
        </div>
    </section>
    <!-- /Tabla con datos -->
    <!--  Modal Nueva Venta -->
    <div class="modal fade" id="NuevaVenta" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #26327e;">
                    <h5 class="modal-title" id="staticBackdropLabel1" style="color: white;">Nueva venta</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        style="background-color: #7a87bb;"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="col">
                            <label type="text" class="form-control" id="IdNuevo" placeholder="Id Venta" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">0</label>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ArticuloNuevo" placeholder="Articulo" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ClienteNuevo" placeholder="Cliente" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ValorNuevo" placeholder="Valor" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="FechaVentaNuevo" placeholder="Fecha Venta"
                                style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="FechaPagoNuevo" placeholder="Fecha Pago" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="VendedorNuevo" placeholder="Vendedor" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <select class="form-select" id="EstadoNuevo" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;" aria-label="Default select example">
                            <option>Cancelada</option>
                            <option>Pendiente</option>
                        </select>
                        <div class="col">

                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" style=" background-color: #26327e;"
                        onclick="NuevaVenta(), limpiarBusqueda()" data-bs-dismiss="modal">Agregar</button>
                    <button type="button" class="btn btn-secondary" onclick="limpiarBusqueda()" data-bs-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    <!--  /Modal Nueva Venta -->
    <!-- Scripts necesarios -->
    <script>
        // se inserta latabla automaticamente al cargar la pagina 
        nuevaFila()
        InsertarDatos()
    </script>
    <!-- Script para que el id de cada nueva venta aumente -->
    <script>
        function addNuevaFila(){
        const NuevoId = document.getElementById("IdNuevo")
        let numerosFila = document.getElementById("AquiVaLaFila")
        let UltimoIdVenta = numerosFila.getElementsByTagName("tr").length
        // const UltimoIdVenta = Id.at(-1)
         console.log(UltimoIdVenta)
        NuevoId.textContent = (UltimoIdVenta + 1)
        }
    </script>
    <!--  Modal Modificar Venta -->
    <div class="modal fade" id="ModificarVenta" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #26327e;">
                    <h5 class="modal-title" id="staticBackdropLabel1" style="color: white;">Venta Seleccionada</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        style="background-color: #7a87bb;"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="col">
                            <label type="text" class="form-control" id="IdBusqueda" placeholder="Id Venta" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                    background-color: #d8e5fe; text-align: center;"> Id Venta</label>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ArticuloBusqueda" placeholder="Articulo" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                    background-color: #d8e5fe; text-align: center;"></input>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ClienteBusqueda" placeholder="Cliente" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                    background-color: #d8e5fe; text-align: center;"></input>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ValorBusqueda" placeholder="Valor" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                    background-color: #d8e5fe; text-align: center;"></input>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="FechaVentaBusqueda" placeholder="Fecha Venta"
                                style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                    background-color: #d8e5fe; text-align: center;"></input>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="FechaPagoBusqueda" placeholder="Fecha Pago"
                                style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                    background-color: #d8e5fe; text-align: center;"></input>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="VendedorBusqueda" placeholder="Vendedor" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                    background-color: #d8e5fe; text-align: center;"></input>
                        </div>
                        <select class="form-select" id="EstadoBusqueda" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                    background-color: #d8e5fe; text-align: center;" aria-label="Default select example">
                            <option>Cancelada</option>
                            <option>Pendiente</option>
                        </select>
                        <div class="col">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" style=" background-color: #26327e;"
                        onclick="InsertarDatosModalVentaBuscada(), limpiarBusqueda()">Modificar</button>
                    <button type="button" class="btn btn-secondary" onclick="limpiarBusqueda()" data-bs-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    <!--  /Modal Modificar Venta -->
    <!--  Modal Resultado Busqueda-->
    <div class="modal fade" id="ResultadoBusqueda" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #26327e;">
                    <h5 class="modal-title" id="staticBackdropLabel1" style="color: white;">Resultado Busqueda</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        style="background-color: #7a87bb;"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="col">
                            <label type="text" class="form-control" id="IdResultado" placeholder="Id Venta" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;"> Id Venta</label>
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ArticuloResultado" placeholder="Articulo" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ClienteResultado" placeholder="Cliente" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="ValorResultado" placeholder="Valor" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="FechaVentaResultado" placeholder="Fecha Venta"
                                style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="FechaPagoResultado" placeholder="Fecha Pago"
                                style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="VendedorResultado" placeholder="Vendedor" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                        </div>
                        <select class="form-select" id="EstadoResultado" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                        background-color: #d8e5fe; text-align: center;">
                            <option index=0>Cancelada</option>
                            <option index=1>Pendiente</option>
                        </select>
                        <div class="col">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" style=" background-color: #26327e;" onclick="limpiarBusqueda()">Modificar</button>
                    <button type="button" class="btn btn-primary" style=" background-color: #26327e;" onclick="limpiarBusqueda()">Eliminar</button>
                    <button type="button" class="btn btn-secondary" onclick="limpiarBusqueda()" data-bs-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    <!--  /Modal Resultado Busqueda-->
    <!--  Modal Buscar Ventas -->
    <div class="modal fade" id="BuscarVenta" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="staticBackdropLabel1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #26327e;">
                    <h5 class="modal-title" id="staticBackdropLabel1" style="color: white;">Buscar Venta</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        style="background-color: #7a87bb;"></button>
                </div>
                <div class="modal-body">
                    <div class="container">
                        <div class="col">
                            <input type="text" class="form-control" id="IdVentaBuscada" placeholder="Id Venta" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                            background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" id="NombreVentaBuscada"
                                placeholder="Id o Nombre Cliente" style="margin: 10px; max-width: 90%; border-color: #7a87bb; margin-left: 15px;
                            background-color: #d8e5fe; text-align: center;">
                        </div>
                        <div class="col">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" style=" background-color: #26327e;"
                        data-bs-toggle="modal" data-bs-target="#ResultadoBusqueda" data-bs-dismiss="modal"
                        onclick="InsertarDatosModalResultadoBusquedaId(),limpiarBusqueda()">Buscar por Id Venta</button>
                    <button type="button" class="btn btn-primary" style=" background-color: #26327e;"
                        data-bs-toggle="modal" data-bs-target="#ResultadoBusqueda" data-bs-dismiss="modal"
                        onclick="InsertarDatosModalResultadoBusquedaNombre(),limpiarBusqueda()">Buscar por Nombre Cliente</button>
                    <button type="button" class="btn btn-secondary" onclick="limpiarBusqueda()" data-bs-dismiss="modal">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    <!--  /Modal Buscar Ventas -->
    <!-- Bottones -->
    <div class="container" style="text-align: end;">
        <div id="Muestrame" style="display:none">
            <button type="button" class="btn btn-primary" style=" background-color: #7e2626;" data-bs-toggle="modal"
                data-bs-target="#ModificarVenta">Modificar Venta</button>
            <button type="button" class="btn btn-primary" style=" background-color: #7e2626;">Eliminar Venta</button>
        </div>
    </div>
    <div class="container" style="text-align: center;">
        <button type="button" class="btn btn-primary" style=" background-color: #26327e;" onclick="addNuevaFila()" data-bs-toggle="modal"
            data-bs-target="#NuevaVenta">Nueva Venta</button>

        <button type="button" class="btn btn-primary" style=" background-color: #26327e;" data-bs-toggle="modal"
            data-bs-target="#BuscarVenta">Buscar Venta</button>
    </div>

    <!-- /Bottones -->
    <!-- Footer -->
    <footer style="text-align: center;">
        <img src="/images/logo2.png" alt="logo-nightmare" style="height: 50px;">
    </footer>
    <!-- Footer -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/esm/popper.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="/js/menu.js"></script>
</body>

</html>